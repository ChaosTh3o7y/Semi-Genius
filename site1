const sg = (()=>{
  const navToggle = document.querySelector('.nav-toggle');
  const navMenu = document.getElementById('nav-menu');
  if(navToggle){
    navToggle.addEventListener('click', ()=>{
      const open = navMenu.classList.toggle('open');
      navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
  }
  const y = document.getElementById('year');
  if(y){ y.textContent = new Date().getFullYear(); }
  function handleSubmit(e){
    e.preventDefault();
    const f = e.target;
    const data = new FormData(f);
    const name = data.get('name');
    const company = data.get('company');
    const email = data.get('email');
    const message = data.get('message') || '';
    const subject = encodeURIComponent(`Semi-Genius Inquiry â€” ${company}`);
    const body = encodeURIComponent(
`Hi Semi-Genius,

My name is ${name} from ${company}.
${message}

You can reach me at ${email}.`
    );
    window.location.href = `mailto:rayscottfilms@gmail.com?subject=${subject}&body=${body}`;
    return false;
  }
  return { handleSubmit };
})();
